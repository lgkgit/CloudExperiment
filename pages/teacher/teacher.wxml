<!--pages/teacher/teacher.wxml-->
<view class="container">

  <view class="tab-content" hidden="{{currentTab != 0}}">
    <view class="section">
    <!-- 用户名区域 -->
    <view class="Horizob">
    <view class="Student">
      <image src="/image/Student.png" class="StudentIcon"/>
      <image class="StudentLine" src="/image/Vertical_line.png"/>
      <view>{{AccountNumber}}</view>
    </view>
    <image class="ReButton" src="/image/Renovate.png" bind:tap="onClick"/>
    </view>
    <!-- 实验标题区域 -->
    <view class="Heading">{{ExperimentName}}</view>
    </view>
    <!-- 实验报告展示部分 -->
    <view class="section">
      <!-- 实验目的区域 -->
      <view class="title">实验目的</view>
      <scroll-view class="ContentInput" scroll-y>
      <view class="purpose">{{purpose}}</view>
      </scroll-view>
      <!-- 实验数据区域 -->
      <view class="title">实验数据：</view>
      <!-- 选择温度范围 -->
      <picker bindchange="onTemperatureChange" value="{{tempIndex}}" range="{{temperatureRange}}">
        <view class="picker">
          当前温度：{{temperatureRange[tempIndex]}}
          <image src="/image/dropdown.png" class="picker-icon"></image>
        </view>
      </picker>
      <view style="height: 20rpx;"></view>
      <!-- 表格区域 -->
      <!-- 标题栏 -->
      <view class="tr">
        <view class="td">{{temperatureRange[tempIndex]}}</view>
        <view class="td">值</view>
      </view>
      <scroll-view class="table" scroll-y>
        <!-- 内容栏 -->
        <block wx:for="{{experimentData}}" wx:key="index">
          <view class="tr">
            <view class="td">{{item.measurement}}</view>
            <view class="td">
              {{item.value}}
            </view>
          </view>
        </block>
      </scroll-view>
     <!-- 实验图区域 -->
     <view class="title">实验图</view>
      <!-- <view>{{images}}</view> -->
      <scroll-view class="images-container" scroll-y>
        <block wx:for="{{images}}" wx:key="index">
          <image src="{{item}}" mode="widthFix"/>
        </block>  
      </scroll-view>
     <!-- 实验结论部分 -->
     <view class="title">实验结论</view>
    <scroll-view class="ContentInput" scroll-y>
      <view class="conclusion">{{conclusion}}</view>
    </scroll-view>
     <!-- 思考题部分 -->
     <view class="title">思考题</view>
      <view class="question">
        <block wx:for="{{ThinkingQuestions}}" wx:key="index">
          <text>{{index + 1}}. {{item}}</text>
          <scroll-view class="ContentInput" scroll-y>
            <block wx:for="{{answers}}" wx:key="index">
              {{item}}
            </block>
          </scroll-view>
        </block>
      </view>
    </view>
    <!-- 评分部分 -->
    <view class="section">
      <!--教师打分表-->
      <view class="title">教师打分表</view>
      <!-- 表格区域 -->
      <!-- 标题栏 -->
      <view class="tr">
      <view class="td">项目</view>
      <view class="td">分值</view>
      </view>
      <scroll-view class="table" scroll-y>
      <!-- 内容栏 -->
        <block wx:for="{{ExperimentSections}}" wx:key="index">
          <view class="tr">
            <view class="td">{{item.Section}}</view>
            <view class="td">
              <input class="input" value="{{item.grade}}" type="number" placeholder="" bindinput="onExSectionGrade" data-id="{{index}}"/>
            </view>
          </view>
        </block>
      </scroll-view>
      <!--教师评语-->
      <view class="title">教师评语</view>
      <scroll-view class="ContentInput" scroll-y>
        <textarea bindinput="updateComment" placeholder="请输入教师评语" maxlength="-1"></textarea>
      </scroll-view>
      <button class="myButton"  hover-class="myButton-hover" bind:tap="onUploadGrade">完成</button>
    </view>
    
  </view>

  <view class="tab-content" hidden="{{currentTab != 1}}">
    <view style="display: flex; justify-content: center; align-items: center; font-size: 100rpx;">敬请期待</view>
  </view>

  <view class="tab-content" hidden="{{currentTab != 2}}">
    <view class="section">
      <button class="myButton" hover-class="myButton-hover" bind:tap="onGetHistoryImage">添加图片</button>
      <scroll-view class="images-container" scroll-y>
        <block wx:for="{{HistoryImages}}" wx:key="*this">
          <image src="{{item}}" class="photo" mode="widthFix"></image>
        </block>
      </scroll-view>
      <button class="myButton" hover-class="myButton-hover" bind:tap="onUploadHistoryImage">上传图片</button>
    </view>
  </view>

<!-- 底部导航栏 -->
  <view class="footer-tabbar">
    <!-- 成绩分析 -->
    <view class="tab-item" bindtap="switchTab" data-index="0">
      <image src="{{currentTab == 0 ? '/image/Correct_active.png' : '/image/Correct.png'}}" class="icon"></image>
      <text class="{{currentTab == 0 ? 'tab-text-active' : ''}}">批改</text>
    </view>
    <!-- 实验选择 -->
    <view class="tab-item" bindtap="switchTab" data-index="1">
      <image src="{{currentTab == 1 ? '/image/UploadEx_active.png' : '/image/UploadEx.png'}}" class="icon"></image>
      <text class="{{currentTab == 1 ? 'tab-text-active' : ''}}">实验</text>
    </view>
    <!-- 个人信息 -->
    <view class="tab-item" bindtap="switchTab" data-index="2">
      <image src="{{currentTab == 2 ? '/image/History_active.png' : '/image/History.png'}}" class="icon"></image>
      <text class="{{currentTab == 2 ? 'tab-text-active' : ''}}">历史</text>
    </view>
  </view>

</view>